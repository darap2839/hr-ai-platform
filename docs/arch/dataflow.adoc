= HR Platform ‚Äî –ü–æ—Ç–æ–∫–∏ –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏
:toc:
:toclevels: 3
:sectnums:

–î–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã HR AI, —Ñ–æ—Ä–º–∞—Ç—ã —Å—Ç—Ä—É–∫—Ç—É—Ä –∏ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ—Ç–æ–∫–æ–≤.

== 1. –û–±—â–∞—è –¥–∏–∞–≥—Ä–∞–º–º–∞ –ø–æ—Ç–æ–∫–æ–≤ –¥–∞–Ω–Ω—ã—Ö

–î–∏–∞–≥—Ä–∞–º–º–∞ –æ—Ç—Ä–∞–∂–∞–µ—Ç –∫–ª—é—á–µ–≤—ã–µ –∫–∞–Ω–∞–ª—ã –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏.

[source,mermaid]
----
flowchart TD

subgraph WEB [hr_web_service]
  A[Frontend UI]
end

subgraph API [hr_api_service]
  B[API Gateway]
end

subgraph ETL [hr_etl_service]
  C1[–ü—Ä–∏—ë–º —Ñ–∞–π–ª–∞ —Ä–µ–∑—é–º–µ]
  C2[OCR / NLP]
  C3[–ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö]
end

subgraph JOB [hr_job_service]
  D[CRUD –≤–∞–∫–∞–Ω—Å–∏–π]
end

subgraph MATCH [hr_matching_service]
  E1[–°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ä–µ–∑—é–º–µ/–≤–∞–∫–∞–Ω—Å–∏–π]
  E2[–†–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏–µ]
end

subgraph ANALYTICS [hr_analytics_service]
  F[–ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –æ—Ç—á—ë—Ç—ã]
end

subgraph ONT [hr_ontology_service]
  G[–û–Ω—Ç–æ–ª–æ–≥–∏–∏ –Ω–∞–≤—ã–∫–æ–≤]
end

subgraph DB [hr_psql_service]
  X[(PostgreSQL)]
end

A --> B

B --> C1
C1 --> C2
C2 --> C3
C3 --> X

B --> D
D --> X

B --> E1
E1 --> E2
E2 --> X

B --> F
F --> X

C2 --> G
E1 --> G
----

== 2. –ü–æ—Ç–æ–∫–∏ –¥–∞–Ω–Ω—ã—Ö –ø–æ —Å–µ—Ä–≤–∏—Å–∞–º

=== 2.1 hr_web_service ‚Üí hr_api_service

–¢–∏–ø: REST –î–∞–Ω–Ω—ã–µ:

[cols="1,1,2",options="header"]
|===
|–û–ø–µ—Ä–∞—Ü–∏—è |–§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö |–û–ø–∏—Å–∞–Ω–∏–µ

|–ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞ —Ä–µ–∑—é–º–µ
|multipart/form-data
|PDF, DOCX, PNG, JPG

|–°–æ–∑–¥–∞–Ω–∏–µ –≤–∞–∫–∞–Ω—Å–∏–∏
|JSON (JobCreateRequest)
|–î–æ–ª–∂–Ω–æ—Å—Ç—å, —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è, –Ω–∞–≤—ã–∫–∏

|–ó–∞–ø—Ä–æ—Å —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π
|JSON
|ID –≤–∞–∫–∞–Ω—Å–∏–∏/—Ä–µ–∑—é–º–µ

|–û—Ç—á—ë—Ç—ã
|Query params
|–§–∏–ª—å—Ç—Ä—ã –∞–Ω–∞–ª–∏—Ç–∏–∫–∏
|===

=== 2.2 hr_api_service ‚Üí hr_etl_service

–¢–∏–ø: Internal REST

üìÑ UploadResumeRequest

[source,json]
{
  "file_path": "/tmp/upload/resume.pdf",
  "source": "web",
  "user_id": "123"
}

=== 2.3 hr_etl_service ‚Üí hr_psql_service

–¢–∏–ø: DB insert/update –°–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã:
üìÑ RawResume

[source,json]
{
  "id": "uuid",
  "original_file_path": "...",
  "raw_text": "...",
  "parsed_text": "...",
  "created_at": "..."
}

üìÑ CandidateProfile

[source,json]
{
"id": "uuid", "name": "string", "skills": ["Python", "REST"], "experience": [...], "education": [...], "contacts": {...} }

=== 2.4 hr_api_service ‚Üí hr_job_service

–¢–∏–ø: REST

üìÑ JobRequest

[source,json]
{
"title": "Backend Developer", "skills_required": ["Python", "FastAPI"], "experience_min": 2 }

=== 2.5 hr_job_service ‚Üí hr_psql_service

–°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ —Ç–∞–±–ª–∏—Ü—ã: jobs, job_skills, job_requirements

=== 2.6 hr_api_service ‚Üí hr_matching_service

–¢–∏–ø: REST

üìÑ MatchRequest

[source,json]
{
"vacancy_id": "uuid", "candidate_ids": ["uuid1", "uuid2"]
}

=== 2.7 hr_matching_service ‚Üí hr_psql_service

–°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ä–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏—è:

üìÑ MatchResult

[source,json]
{
"candidate_id": "uuid", "vacancy_id": "uuid", "score": 0.87, "missing_skills": ["Kafka", "Docker"], "matching_skills": ["Python", "SQL"]
}

=== 2.8 hr_etl_service + hr_matching_service ‚Üí hr_ontology_service

–¢–∏–ø: REST / Cached dataset

–ó–∞–ø—Ä–∞—à–∏–≤–∞—é—Ç —Å–ª–æ–≤–∞—Ä–∏ –Ω–∞–≤—ã–∫–æ–≤, –∏–µ—Ä–∞—Ä—Ö–∏–∏ –∫–æ–º–ø–µ—Ç–µ–Ω—Ü–∏–π, –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –¥–æ–ª–∂–Ω–æ—Å—Ç–∏.

=== 2.9 hr_api_service ‚Üí hr_analytics_service

–¢–∏–ø: REST

üìÑ AnalyticsQuery

[source,json]
{
"type": "matching_stats", "vacancy_id": "uuid", "period": "30d" }

=== 2.10 hr_analytics_service ‚Üí hr_psql_service

–ó–∞–ø—Ä–æ—Å—ã –Ω–∞ –∞–≥—Ä–µ–≥–∞—Ü–∏—é: —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π, –æ—Ç—á—ë—Ç –ø–æ –Ω–∞–≤—ã–∫–∞–º, –∫–æ–Ω–≤–µ—Ä—Å–∏—è –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤, ML –º–µ—Ç—Ä–∏–∫–∏

== 3. –†–æ–ª–∏ —Å–µ—Ä–≤–∏—Å–æ–≤ –≤ DataFlow

[cols="1,1,1",options="header"]
|===
|–°–µ—Ä–≤–∏—Å |–ü–æ–ª—É—á–∞–µ—Ç |–û—Ç–¥–∞—ë—Ç

|web
|‚Äî
|–í—Å—ë —á–µ—Ä–µ–∑ API

|api
|–û—Ç web
|–í –∫–∞–∂–¥—ã–π —Å–µ—Ä–≤–∏—Å

|etl
|–§–∞–π–ª—ã
|–°—Ç—Ä—É–∫—Ç—É—Ä—ã —Ä–µ–∑—é–º–µ

|job
|–í–∞–∫–∞–Ω—Å–∏–∏
|–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤–∞–∫–∞–Ω—Å–∏–π

|matching
|–ü—Ä–æ—Ñ–∏–ª–∏ & –≤–∞–∫–∞–Ω—Å–∏–∏
|Match results

|analytics
|–î–∞–Ω–Ω—ã–µ –∏–∑ –ë–î
|–û—Ç—á—ë—Ç—ã

|ontology
|–ó–∞–ø—Ä–æ—Å—ã
|–°–ª–æ–≤–∞—Ä–∏

|psql
|–í—Å—ë
|‚Äî
|===
